---
import { languages, defaultLang } from '../i18n/ui';

// Detectar el idioma del navegador del lado del servidor
const acceptLanguage = Astro.request.headers.get('accept-language') || '';
const browserLang = acceptLanguage.split(',')[0]?.split('-')[0] || defaultLang;

// Verificar si el idioma del navegador est√° soportado
const targetLang = browserLang in languages ? browserLang : defaultLang;

// Redirigir al idioma detectado o al idioma por defecto
return Astro.redirect(`/${targetLang}/`);
---