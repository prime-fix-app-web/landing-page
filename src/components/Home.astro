---
import { getLangFromUrl, useTranslations } from "../i18n/utils";
import HomeGuide from "./HomeGuide.astro";
import HomePresentation from "./HomePresentation.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

interface HeroContent {
  title: string;
  description: string;
  buttonText: string;
  imageAlt: string;
  imageSrc: string;
}

const heroContent: HeroContent = {
  title: t('home-title'),
  description: t('home-description'),
  buttonText: t('buttonText'),
  imageAlt: t('home-imageAlt'),
  imageSrc: "/assets/images/home.webp"
};

---

<section class="min-h-screen bg-second-complementary pt-24 pb-16">
  <div class="container mx-auto px-4 py-16">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">
      <!-- Contenido de texto -->
      <div class="text-center lg:text-left space-y-8 order-2 lg:order-1">
        <h1 class="font-extrabold text-4xl sm:text-5xl md:text-6xl lg:text-7xl text-dark leading-tight">
          {heroContent.title}
        </h1>

        <p class="text-lg sm:text-xl text-gray-700 max-w-[580px] mx-auto lg:mx-0 leading-relaxed">
          {heroContent.description}
        </p>

        <div class="pt-4">
          <a href="https://frontend-app-web-chi.vercel.app">
            <button
              class="bg-first-complementary text-white text-lg sm:text-xl font-bold py-4 px-8 sm:px-12 rounded-full hover:bg-white hover:text-first-complementary transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl"
            >
              {heroContent.buttonText}
            </button>
          </a>
        </div>
      </div>

      <!-- Imagen -->
      <div class="flex justify-center lg:justify-end order-1 lg:order-2">
        <div class="relative group">
          <img
            class="w-full max-w-xl md:max-w-2xl lg:max-w-3xl h-auto object-cover rounded-2xl shadow-2xl transition-transform duration-500 group-hover:scale-105"
            src={heroContent.imageSrc}
            alt={heroContent.imageAlt}
            loading="eager"
          />
          <div class="absolute -top-4 -right-4 w-20 h-20 bg-first-complementary/20 rounded-full blur-xl"></div>
          <div class="absolute -bottom-6 -left-6 w-16 h-16 bg-primary/20 rounded-full blur-lg"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<HomePresentation />

<HomeGuide />

<!-- Sección de Video de Marketing -->
<section class="py-16 sm:py-20 lg:py-24 bg-light">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto">
      <!-- Título de la sección -->
      <div class="text-center mb-12 sm:mb-16">
        <h2 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-primary mb-4 sm:mb-6">
          {t('video-marketing-title')}
        </h2>
        <p class="text-base sm:text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed">
          {t('video-marketing-description')}
        </p>
      </div>

      <!-- Contenedor del video -->
      <div class="relative group">
        <div class="relative overflow-hidden rounded-2xl shadow-2xl bg-gradient-to-br from-primary/10 to-first-complementary/10 border-2 border-primary/20">
          <div class="aspect-video bg-gray-900 flex items-center justify-center relative">
            <!-- YouTube Video Embed -->
            <iframe 
              class="w-full h-full"
              src="https://www.youtube.com/embed/PclJEUE-tfM"
              title="PrimeFix - Video de Marketing"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen
            ></iframe>
          
          </div>
        </div>

        <!-- Elementos decorativos -->
        <div class="absolute -top-6 -left-6 w-24 h-24 bg-first-complementary/20 rounded-full blur-2xl"></div>
        <div class="absolute -bottom-6 -right-6 w-32 h-32 bg-primary/20 rounded-full blur-2xl"></div>
      </div>

      <!-- Descripción adicional -->
      <div class="mt-8 sm:mt-12 text-center">
        <p class="text-gray-600 text-base sm:text-lg max-w-2xl mx-auto">
          {t('video-marketing-footer')}
        </p>
      </div>
    </div>
  </div>
</section>